@import "../styles/variables";

.chat-list {
	display: flex;
	flex-direction: column;
	height: 100%;
	background: white;
	border-radius: 12px;
	overflow: hidden;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.chat-list-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 20px;
	background: #f8fafc;
	border-bottom: 1px solid #e5e7eb;

	h2 {
		margin: 0;
		font-size: 1.5rem;
		font-weight: 600;
		color: #111827;
		display: flex;
		align-items: center;
		gap: 8px;
	}

	.unread-badge {
		background: #ef4444;
		color: white;
		padding: 4px 8px;
		border-radius: 12px;
		font-size: 0.8rem;
		font-weight: 600;
		min-width: 20px;
		text-align: center;
	}

	.new-chat-btn {
		background: #3b82f6;
		color: white;
		border: none;
		padding: 8px;
		border-radius: 8px;
		cursor: pointer;
		transition: all 0.2s ease;

		&:hover {
			background: #2563eb;
			transform: scale(1.05);
		}
	}
}

.chat-search {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 16px 20px;
	background: white;
	border-bottom: 1px solid #e5e7eb;

	input {
		flex: 1;
		padding: 10px 12px;
		border: 1px solid #d1d5db;
		border-radius: 8px;
		font-size: 0.9rem;
		outline: none;
		transition: all 0.2s ease;

		&:focus {
			border-color: #3b82f6;
			box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
		}

		&::placeholder {
			color: #9ca3af;
		}
	}

	svg {
		color: #6b7280;
	}
}

.chats-container {
	flex: 1;
	overflow-y: auto;
}

.chat-item {
	display: flex;
	align-items: center;
	gap: 10px;
	padding: 12px 16px;
	border-bottom: 1px solid #f3f4f6;
	cursor: pointer;
	transition: all 0.2s ease;

	&:hover {
		background: #f9fafb;
	}

	&.unread {
		background: #eff6ff;
		border-left: 3px solid #3b82f6;

		.chat-name {
			font-weight: 700 !important;
		}

		.chat-message {
			font-weight: 600 !important;
		}
	}

	.chat-avatar {
		width: 40px;
		height: 40px;
		border-radius: 50%;
		background: #6b7280;
		color: white;
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: 600;
		font-size: 16px;
		flex-shrink: 0;
	}

	.chat-content {
		flex: 1;
		min-width: 0;
	}

	.chat-header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-bottom: 2px;

		.chat-name {
			margin: 0;
			font-size: 0.9rem;
			font-weight: 600;
			color: #111827;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.chat-time {
			font-size: 0.8rem;
			color: #6b7280;
			flex-shrink: 0;
		}
	}

	.chat-preview {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 8px;

		.chat-message {
			margin: 0;
			font-size: 0.9rem;
			color: #6b7280;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			flex: 1;
		}

		.unread-indicator {
			background: #ef4444;
			color: white;
			padding: 3px 7px;
			border-radius: 12px;
			font-size: 0.7rem;
			font-weight: 700;
			min-width: 20px;
			text-align: center;
			flex-shrink: 0;
			box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
		}
	}

	.chat-product {
		margin-top: 2px;
		font-size: 0.75rem;
		color: #9ca3af;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

.no-chats {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 60px 20px;
	color: #9ca3af;
	text-align: center;

	p {
		margin: 16px 0;
		font-size: 1.1rem;
	}

	.clear-search-btn {
		background: #3b82f6;
		color: white;
		border: none;
		padding: 8px 16px;
		border-radius: 6px;
		cursor: pointer;
		font-size: 0.9rem;
		margin-top: 8px;
		transition: all 0.2s ease;

		&:hover {
			background: #2563eb;
		}
	}
}

.loading-chats {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100%;
	color: #6b7280;
	font-size: 1.1rem;
}

// Responsive design
@media (max-width: 768px) {
	.chat-list {
		border-radius: 0;
		height: 100vh;
	}

	.chat-list-header {
		padding: 16px;

		h2 {
			font-size: 1.25rem;
		}
	}

	.chat-search {
		padding: 12px 16px;
	}

	.chat-item {
		padding: 10px 12px;

		.chat-avatar {
			width: 36px;
			height: 36px;
			font-size: 14px;
		}

		.chat-header {
			.chat-name {
				font-size: 0.9rem;
			}

			.chat-time {
				font-size: 0.7rem;
			}
		}

		.chat-preview {
			.chat-message {
				font-size: 0.8rem;
			}
		}

		.chat-product {
			font-size: 0.7rem;
		}
	}
}
